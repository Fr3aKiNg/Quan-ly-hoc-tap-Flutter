name: IOS CI
on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

# jobs:
#  build_ios:
#     runs-on: macos-latest
  
#     steps:
#     - uses: actions/checkout@v2
#     - uses: actions/setup-java@v1
#       with:
#        java-version: '14.x'
#     - uses: subosito/flutter-action@v1
#       with:
#         channel: 'stable'
#     - name: Install dependencies
#       run: flutter pub get
# #     - name: Run tests
# #       run: flutter pub run test
#     - name: Release IOS 
    

jobs:
  test:
    strategy:
      matrix:
        platform: [macos-latest]
    runs-on: ${{ matrix.platform }}
    steps:
    - uses: actions/checkout@v1
    - uses: actions/setup-java@v1
#     - name: Flutter Deployment
#       uses: jeanluc243/Flutter-Deployment@0.1
      with:
       java-version: '14.x'
    - uses: subosito/flutter-action@v1
      with:
        channel: 'stable'
#     - name: Install dependencies
#       run: flutter pub get
#     - name: Release IOS 
#       run: flutter build ios --release --no-codesign

    - name: install dependencies
      uses: geowatson/flutter-latest@1.0.0
      with:
        args: pub get

    - name: run tests
      uses: geowatson/flutter-latest@1.0.0
      with:
        args: test

              
